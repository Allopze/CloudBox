# ================================
# CloudBox - Production Environment Variables
# ================================
# Copy this file to .env and fill in all required values
# Required values are marked with [REQUIRED]
# ================================

# ============ DOMAIN ============
# [REQUIRED] Your domain name (e.g., cloud.example.com)
DOMAIN=cloud.example.com

# [REQUIRED] Full frontend URL (with https://)
FRONTEND_URL=https://cloud.example.com

# ============ DATABASE ============
# PostgreSQL credentials
POSTGRES_USER=cloudbox
# [REQUIRED] Strong password for PostgreSQL
POSTGRES_PASSWORD=your-super-secret-postgres-password
POSTGRES_DB=cloudbox

# ============ REDIS ============
# Password for Redis (optional but recommended)
REDIS_PASSWORD=your-redis-password

# ============ JWT SECRETS ============
# [REQUIRED] Generate with: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters
JWT_REFRESH_SECRET=your-super-secret-refresh-key-minimum-32-characters

# Token expiration times
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ============ STORAGE ============
# Maximum single file size in bytes (default: 100MB)
MAX_FILE_SIZE=104857600

# Default storage quota per user in bytes (default: 5GB)
DEFAULT_QUOTA=5368709120

# Days to keep deleted files in trash (default: 30)
TRASH_RETENTION_DAYS=30

# ============ SMTP (Optional) ============
# Email server configuration for notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=CloudBox <noreply@example.com>

# ============ DOCKER ============
# Docker registry (leave empty for local builds)
REGISTRY=

# Image version tag
VERSION=latest

# ============ GOOGLE OAUTH (Optional) ============
# Google OAuth credentials for social login
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ============ INITIAL ADMIN (Optional) ============
# The production Docker image runs migrations on startup, but does NOT run the seed automatically.
# If you want to create the first admin via the seed script, set these and run:
#   docker-compose -f docker-compose.prod.yml exec backend node dist/prisma/seed.js
ADMIN_EMAIL=admin@example.com
# Must be at least 12 characters in production
ADMIN_PASSWORD=change-me-long-random-password

# ============ GLITCHTIP / ERROR TRACKING (Optional) ============
# GlitchTip is a self-hosted Sentry alternative included in docker-compose.prod.yml
# After starting GlitchTip, create organization/project at http://localhost:8000
# and copy the DSN (e.g., http://key@localhost:8000/1)

# [OPTIONAL] Sentry/GlitchTip DSN (leave empty to disable error tracking)
SENTRY_DSN=

# GlitchTip database password
GLITCHTIP_DB_PASSWORD=glitchtip_secret_password

# [REQUIRED if using GlitchTip] Secret key for GlitchTip
# Generate with: openssl rand -base64 32
GLITCHTIP_SECRET_KEY=change-me-in-production

# GlitchTip domain (for email links)
GLITCHTIP_DOMAIN=http://localhost:8000

# GlitchTip email configuration (uses console by default)
# For Gmail: smtp://user:pass@smtp.gmail.com:587
GLITCHTIP_EMAIL_URL=consolemail://
GLITCHTIP_FROM_EMAIL=noreply@localhost
